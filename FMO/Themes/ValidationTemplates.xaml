<ResourceDictionary
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="clr-namespace:FMO.Utilities;assembly=FMO.Data"
    xmlns:hc="https://handyorg.github.io/handycontrol">

    <DataTemplate x:Key="ClearDateMissing">
        <DataGrid
            AutoGenerateColumns="False"
            IsReadOnly="False"
            ItemsSource="{Binding .}"
            Style="{StaticResource DataGrid.NoSelect}">
            <DataGrid.Columns>
                <DataGridTextColumn Binding="{Binding Context.Name}" Header="基金" />
                <DataGridTextColumn Binding="{Binding Context.Code}" Header="代码" />
            </DataGrid.Columns>
        </DataGrid>
    </DataTemplate>

    <DataTemplate x:Key="DailyMissing">
        <DataGrid
            AutoGenerateColumns="False"
            IsReadOnly="False"
            ItemsSource="{Binding .}"
            Style="{StaticResource DataGrid.NoSelect}">
            <DataGrid.Columns>
                <DataGridTextColumn Binding="{Binding Context.FundName}" Header="基金" />
                <DataGridTextColumn Binding="{Binding Context.Count}" Header="数量">
                    <DataGridTextColumn.ElementStyle>
                        <Style TargetType="TextBlock">
                            <Setter Property="TextAlignment" Value="Center" />
                            <Setter Property="Margin" Value="8,0" />
                        </Style>
                    </DataGridTextColumn.ElementStyle>
                </DataGridTextColumn>
                <DataGridTemplateColumn Header="日期">
                    <DataGridTemplateColumn.CellTemplate>
                        <DataTemplate>
                            <ListBox
                                MaxWidth="500"
                                BorderThickness="0"
                                ItemStringFormat="yyyy/MM/dd"
                                ItemsSource="{Binding Context.MissingSample}"
                                Style="{StaticResource ListBoxCustom}">
                                <ListBox.ItemsPanel>
                                    <ItemsPanelTemplate>
                                        <hc:UniformSpacingPanel IsItemsHost="True" Spacing="5" />
                                    </ItemsPanelTemplate>
                                </ListBox.ItemsPanel>

                            </ListBox>
                        </DataTemplate>
                    </DataGridTemplateColumn.CellTemplate>
                </DataGridTemplateColumn>
            </DataGrid.Columns>
        </DataGrid>
    </DataTemplate>

    <DataTemplate x:Key="ShareNotPairRule">
        <ListBox ItemsSource="{Binding .}">
            <ListBox.ItemTemplate>
                <DataTemplate>
                    <StackPanel DataContext="{Binding Context}">
                        <DockPanel>
                            <TextBlock Text="{Binding FundName}" />
                            <TextBlock
                                x:Name="info"
                                Margin="10,0"
                                Foreground="Red"
                                Text="请先更新净值"
                                Visibility="Collapsed" />
                        </DockPanel>
                        <UniformGrid x:Name="list" Rows="1">
                            <ListBox ItemsSource="{Binding ByDaily}" />
                            <ListBox ItemsSource="{Binding ByTransfer}" />
                        </UniformGrid>
                    </StackPanel>
                    <DataTemplate.Triggers>
                        <DataTrigger Binding="{Binding Context.ByDaily.Count}" Value="0">
                            <Setter TargetName="list" Property="Visibility" Value="Collapsed" />
                            <Setter TargetName="info" Property="Visibility" Value="Visible" />
                        </DataTrigger>
                    </DataTemplate.Triggers>
                </DataTemplate>
            </ListBox.ItemTemplate>
        </ListBox>
    </DataTemplate>
</ResourceDictionary>